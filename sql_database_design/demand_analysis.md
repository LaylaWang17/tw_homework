# 需求分析

## 数据实体

### 该数据库中包含的实体有：

- 学生
- 教师
- 科目
- 试卷
- 成绩

### 各实体中需要存储的数据及其生命周期

- 学生

  - 学号（数值型）
  - 姓名（文本型）

  当学生存在时，这两个数据必须存在；学生不存在后，对应的数据也被删除

- 教师

  - 教师职工号（数值型）
  - 姓名（文本型）

  当教师存在时，这两个数据必须存在；教师不存在后，对应的数据也被删除

- 科目

  - 课程代号（数值型）
  - 科目的名称（文本型）
  - 任课教师（数值型）

  当科目存在时，课程代号和科目的名称必须存在，但任课教师信息在管理员指定后才存在；当科目不存在后，该科目对应的所有数据也被删除

- 试卷

  - 试卷编号（数值型）
  - 试卷对应的科目（数值型）
  - 试卷的题目信息（文本型）

  教师创建后上述试卷数据信息才会存在；当试卷被删除后，对应的所有数据也被删除

- 成绩

  - 该成绩属于的学生（数值型）
  - 该成绩对应的科目（数值型）
  - 该成绩对应的试卷（数值型）
  - 分数（数值型）

  教师为所代课程添加学生后，该成绩属于的学生、该成绩对应的科目这两条数据会存在；教师批改试卷后，成绩对应的试卷信息和分数信息才会存在；当学生不再存在或科目不再存在后，对应的数据也会被删除

## 数据与数据之间的关系

### 实体之间的关系

- 学生和教师是多对多

  一个学生可以有多个老师，一个老师可以教多个学生

- 学生和科目是多对多

  一个学生可以学多个科目，一个科目可以对应多个学生

- 学生和成绩是一对多

  一个学生可以有多条成绩

- 教师和科目是一对一

  一个教师教一个科目、一个科目仅有一个教师教（目前假定）

- 科目和试卷是一对多

  一个科目可以出多份试题，一个试卷仅对应一个科目

- 科目和成绩是一对多

  一个科目可以对应多条成绩（因为试卷不同），一个成绩仅对应一个科目

- 试卷和成绩是一对一

  一份试卷只有一个成绩，一个成绩也对一份试卷

### 实体的唯一标识

- 学生实体可以由学号唯一标识
- 教师实体可以由职工号唯一表示
- 科目实体可以由课程代号唯一标识
- 试卷实体可以由试卷编号唯一标识
- 成绩实体需要由学号、课程代号、试卷编号共同标识，因此需要单独定义一个主键来标识

## 数据库结构

1. 学生表 student
   - id，INT型，主键
   - name，VARCHAR型，非空
2. 教师表 teacher
   - id，INT型，主键
   - name，VARCHAR型，非空
3. 科目表 subject
   - id，INT型，主键
   - name，VARCHAR型，非空
   - teacher_id，INT型，外键 teacher.id
4. 试卷表 paper
   - id，INT型，主键
   - subject_id，INT型，外键 subject.id
   - questions，VARCHAR型，非空
5. 成绩表 score
   - id，INT型，主键
   - student_id，INT型，外键 student.id
   - subject_id，INT型，外键 subject.id
   - paper_id，INT型，外键 paper.id
   - value，DOUBLE型